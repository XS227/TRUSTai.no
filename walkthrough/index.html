<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TrustAi | Landing</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="app-layout">
      <aside class="sidebar">
        <div class="brand">TrustAi</div>
        <nav class="main-nav">
          <a href="index.html" class="active" data-i18n="navLogin">Login / Onboarding</a>
          <a href="ambassador.html" class="auth-only" data-i18n="navAmbassador">Ambassador dashboard</a>
          <a href="admin.html" class="auth-only" data-i18n="navAdmin">Superadmin panel</a>
          <a href="profile.html" class="auth-only" data-i18n="navProfile">My profile</a>
          <a href="flow-system.html" class="auth-only" data-i18n="navFlow">System flow</a>
        </nav>
      </aside>
      <div class="content">
        <header class="topbar">
          <div class="topbar-left">
            <button id="navToggle" class="nav-toggle btn-secondary" aria-expanded="false">â˜°</button>
            <h1>TrustAi Leads</h1>
          </div>
          <div class="topbar-actions">
            <button id="themeToggle" class="btn-icon btn-secondary" title="Toggle dark/light">ðŸŒ™</button>
            <button id="languageToggle" class="btn-icon btn-secondary" title="Switch language">ðŸ‡¬ðŸ‡§</button>
            <button id="authAction" class="btn-secondary">Log out</button>
            <img id="topbarAvatar" class="avatar" src="" alt="Profile" />
          </div>
        </header>

        <main class="page">
          <section class="panel hero-panel hero-split landing-hero">
            <div class="hero-copy">
              <p class="eyebrow">Productivity platform</p>
              <h2>Run your growth pipeline with calm, focused clarity.</h2>
              <p class="muted hero-lead">
                TrustAi brings lead capture, handoff, and ambassador payouts into one modern workflow.
                No clutter. No guesswork. Just a clean system that helps your team move faster.
              </p>
              <div class="row-actions hero-actions">
                <a class="btn-primary cta-link" href="#be-om-pris">Start free trial</a>
                <button id="openDemoAdminModal" class="btn-secondary">Book live demo</button>
              </div>
              <div class="hero-trust">
                <span>99.9% uptime</span>
                <span>Realtime lead sync</span>
                <span>Secure payouts</span>
              </div>
            </div>
            <article class="kpi-card premium-card auth-card">
              <h3>Create your workspace</h3>
              <p class="muted">Get started in under two minutes with your existing account.</p>
              <div class="form-grid">
                <button id="loginGoogle" class="btn-primary">Continue with Google</button>
                <form id="registerForm" class="form-grid premium-form">
                  <label>Full name<input name="fullName" placeholder="E.g. Nora Hansen" required /></label>
                  <label>Email<input name="email" type="email" placeholder="name@company.com" required /></label>
                  <label>Phone<input name="phone" placeholder="+47 ..." /></label>
                  <button class="btn-secondary" type="submit">Create workspace</button>
                </form>
                <p id="authMessage" class="muted" aria-live="polite"></p>
                <p id="registerMessage" class="muted" aria-live="polite"></p>
              </div>
            </article>
          </section>

          <section class="panel screenshot-panel">
            <div class="section-header">
              <div>
                <p class="eyebrow">Product tour</p>
                <h2>Sleek interface, built for daily momentum</h2>
              </div>
            </div>
            <div class="screen-grid">
              <article class="screen-card main-screen">
                <p class="screen-label">Pipeline overview</p>
                <div class="screen-chrome">
                  <span></span><span></span><span></span>
                </div>
                <div class="screen-mock chart-mock">
                  <div class="mock-line long"></div>
                  <div class="mock-bars">
                    <span style="--h:70%"></span>
                    <span style="--h:42%"></span>
                    <span style="--h:86%"></span>
                    <span style="--h:58%"></span>
                  </div>
                </div>
              </article>
              <article class="screen-card">
                <p class="screen-label">Tasks & follow-up</p>
                <div class="screen-mock list-mock">
                  <div class="mock-line"></div>
                  <div class="mock-line short"></div>
                  <div class="mock-line"></div>
                  <div class="mock-line medium"></div>
                </div>
              </article>
              <article class="screen-card">
                <p class="screen-label">Revenue insights</p>
                <div class="screen-mock donut-mock">
                  <div class="donut"></div>
                  <div class="mock-line medium"></div>
                </div>
              </article>
            </div>
          </section>

          <section class="panel feature-panel">
            <h2>Everything your productivity team needs</h2>
            <div class="feature-grid">
              <article class="feature-item">
                <h3>Unified workspace</h3>
                <p class="muted">Manage leads, activities, and handoff updates in one shared space.</p>
              </article>
              <article class="feature-item">
                <h3>Fast automation</h3>
                <p class="muted">Capture requests instantly and route them to the right ambassador flow.</p>
              </article>
              <article class="feature-item">
                <h3>Transparent metrics</h3>
                <p class="muted">Get clear snapshots of conversion, pipeline velocity, and payout status.</p>
              </article>
            </div>
          </section>

          <section id="be-om-pris" class="panel contact-section">
            <div class="contact-intro">
              <h2>Get a custom onboarding plan</h2>
              <p>Share your goals and we will map out the best TrustAi setup for your team.</p>
            </div>

            <form id="priceForm" class="contact-form">
              <input type="text" id="companyName" placeholder="Company name" required />
              <input type="text" id="contactName" placeholder="Contact person" required />
              <input type="email" id="email" placeholder="Email" required />
              <input type="tel" id="phone" placeholder="Phone" />

              <select id="filmType">
                <option value="">What is the film for?</option>
                <option value="advertising">Advertising</option>
                <option value="training">Training</option>
                <option value="explainer">Explainer video</option>
                <option value="other">Other</option>
              </select>

              <textarea id="description" placeholder="Short project description..." rows="4"></textarea>

              <button type="submit" class="btn-primary contact-submit">
                Send request
              </button>

              <p id="formMessage" class="muted"></p>
            </form>
          </section>

          <section class="panel">
            <h2>Predictable outcomes from a focused system</h2>
            <p>
              Teams running TrustAi typically handle <strong>40kâ€“200k NOK projects</strong>. With better lead tracking and
              faster follow-up, ambassadors can create a stable monthly revenue stream.
            </p>
            <div class="grid">
              <article class="kpi-card">
                <p class="muted">Deal size</p>
                <p class="kpi">40kâ€“200k</p>
              </article>
              <article class="kpi-card">
                <p class="muted">Closed deals / month</p>
                <p class="kpi">4â€“10</p>
              </article>
              <article class="kpi-card">
                <p class="muted">Pipeline value / month</p>
                <p class="kpi">160kâ€“2M</p>
              </article>
            </div>
            <div class="earnings-chart" aria-label="Income potential">
              <div class="earnings-bar" style="--bar-height: 34%;"><span>4 sales</span></div>
              <div class="earnings-bar" style="--bar-height: 58%;"><span>6 sales</span></div>
              <div class="earnings-bar" style="--bar-height: 76%;"><span>8 sales</span></div>
              <div class="earnings-bar" style="--bar-height: 100%;"><span>10 sales</span></div>
            </div>
          </section>

          <section class="panel">
            <h2>FAQ</h2>
            <div class="faq-list">
              <details>
                <summary>Do I need technical experience to use TrustAi?</summary>
                <p>No. The platform is designed to be simple, with clear dashboards and guided flows.</p>
              </details>
              <details>
                <summary>Can I bring my existing ambassador process?</summary>
                <p>Yes. We adapt onboarding and payout rules to match your current operating model.</p>
              </details>
              <details>
                <summary>Which sign-in option should I choose first?</summary>
                <p>Google is fastest, but you can also create an account with email during onboarding.</p>
              </details>
              <details>
                <summary>What happens after sign-in?</summary>
                <p>Demo content is hidden, and you are sent directly to your ambassador dashboard.</p>
              </details>
            </div>
          </section>
        </main>
        <footer class="site-footer">Â© Delivered by Setai.no</footer>
      </div>
    </div>

    <div id="demoAdminModal" class="modal-backdrop">
      <div class="modal">
        <h2>Demo superadmin for investor presentation</h2>
        <p class="muted">Sign in with demo credentials to view the Superadmin setup.</p>
        <form id="demoAdminLoginForm" class="form-grid">
          <label>Username<input name="username" autocomplete="username" required /></label>
          <label>Password<input name="password" type="password" autocomplete="current-password" required /></label>
          <div class="row-actions">
            <button type="button" id="closeDemoAdminModal" class="btn-secondary">Close</button>
            <button type="submit" class="btn-primary">Sign in as demo superadmin</button>
          </div>
          <p id="demoAdminMessage" class="muted" aria-live="polite"></p>
        </form>
      </div>
    </div>
    <script type="module" src="app.js"></script>
    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
      import { getFirestore, collection, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";

      const firebaseConfig = {
        apiKey: "AIzaSyA9ESuWhXXsevI47cY_A0YijhAawC7s0Zs",
        authDomain: "trustai-4dc55.firebaseapp.com",
        projectId: "trustai-4dc55",
        storageBucket: "trustai-4dc55.firebasestorage.app",
        messagingSenderId: "886529188680",
        appId: "1:886529188680:web:f8008930a08db98fba497d",
        measurementId: "G-CL1RB3P1CC"
      };

      const app = initializeApp(firebaseConfig);
      const db = getFirestore(app);

      // Cookie helper
      function getCookie(name) {
        const match = document.cookie.match(new RegExp('(^| )' + name + '=([^;]+)'));
        return match ? match[2] : null;
      }

      document.getElementById("priceForm").addEventListener("submit", async (e) => {
        e.preventDefault();

        const messageBox = document.getElementById("formMessage");
        messageBox.textContent = "Sending...";

        try {
          const ambassadorId = getCookie("ambassadorRef");

          await addDoc(collection(db, "leads"), {
            companyName: document.getElementById("companyName").value,
            contactName: document.getElementById("contactName").value,
            email: document.getElementById("email").value,
            phone: document.getElementById("phone").value || null,
            filmType: document.getElementById("filmType").value || null,
            description: document.getElementById("description").value || null,

            ambassadorId: ambassadorId || null,
            status: "open",
            commissionPercent: 0,
            commissionAmount: 0,

            source: "website",
            landingPage: "be-om-pris",

            createdAt: serverTimestamp(),
            updatedAt: serverTimestamp()
          });

          messageBox.style.color = "green";
          messageBox.textContent = "Thanks! We will contact you shortly.";

          document.getElementById("priceForm").reset();

        } catch (error) {
          console.error(error);
          messageBox.style.color = "red";
          messageBox.textContent = "Something went wrong. Please try again.";
        }
      });
    </script>
  </body>
</html>
