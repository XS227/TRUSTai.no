<!doctype html>
<html lang="nb">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TustAi.no | Landingsside</title>
    <link rel="stylesheet" href="styles.css" />

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-CL1RB3P1CC"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-CL1RB3P1CC');
    </script>
  </head>
  <body>
    <div class="app-layout">
      <aside class="sidebar">
        <div class="brand">TustAi.no</div>
        <nav class="main-nav">
          <a href="index.html" class="active" data-i18n="navLogin">Innlogging / Onboarding</a>
          <a href="ambassador.html" class="auth-only" data-i18n="navAmbassador">Ambassad√∏r-dashboard</a>
          <a href="admin.html" class="auth-only" data-i18n="navAdmin">Superadmin panel</a>
          <a href="profile.html" class="auth-only" data-i18n="navProfile">Min profil</a>
          <a href="flow-system.html" class="auth-only" data-i18n="navFlow">Systemflyt</a>
        </nav>
      </aside>
      <div class="content">
        <header class="topbar">
          <div class="topbar-left">
            <button id="navToggle" class="nav-toggle btn-secondary" aria-expanded="false">‚ò∞</button>
            <h1>TustAi.no Leads</h1>
          </div>
          <div class="topbar-actions">
            <button id="themeToggle" class="btn-icon btn-secondary" title="Bytt m√∏rk/lys">üåô</button>
            <button id="languageToggle" class="btn-icon btn-secondary" title="Bytt spr√•k">üá¨üáß</button>
            <button id="authAction" class="btn-secondary">Logg ut</button>
            <img id="topbarAvatar" class="avatar" src="" alt="Profil" />
          </div>
        </header>

        <main class="page">
          <section class="panel hero-panel hero-split landing-hero">
            <div class="hero-copy">
              <p class="eyebrow">Produktivitetsplattform</p>
              <h2>Kj√∏r vekstpipen med ro, kontroll og full oversikt.</h2>
              <p class="muted hero-lead">
                TustAi.no samler leadfangst, oppf√∏lging og utbetalinger til ambassad√∏rer i √©n moderne flyt.
                Ingen st√∏y. Ingen gjetting. Bare et ryddig system som gj√∏r teamet ditt raskere.
              </p>
              <div class="row-actions hero-actions">
                <a class="btn-primary cta-link" href="#be-om-pris">Start gratis pr√∏veperiode</a>
                <button id="openDemoAdminModal" class="btn-secondary">Bestill live demo</button>
              </div>
              <div class="hero-trust">
                <span>99.9% uptime</span>
                <span>Realtime lead sync</span>
                <span>Secure payouts</span>
              </div>
            </div>
            <article class="kpi-card premium-card auth-card">
              <h3>Opprett din arbeidsflate</h3>
              <p class="muted">Kom i gang p√• under to minutter med eksisterende konto.</p>
              <div class="form-grid">
                <button id="loginGoogle" class="btn-primary">Fortsett med Google</button>
                <form id="emailLoginForm" class="form-grid premium-form">
                  <label>Epost<input name="email" type="email" autocomplete="email" placeholder="name@company.com" required /></label>
                  <label>Passord<input name="password" type="password" autocomplete="current-password" placeholder="Skriv passord" required /></label>
                  <button class="btn-secondary" type="submit">Logg inn med epost</button>
                  <p id="emailLoginMessage" class="muted" aria-live="polite"></p>
                </form>
                <form id="registerForm" class="form-grid premium-form">
                  <label>Fullt navn<input name="fullName" placeholder="F.eks. Nora Hansen" required /></label>
                  <label>E-post<input name="email" type="email" placeholder="navn@firma.no" required /></label>
                  <label>Telefon<input name="phone" placeholder="+47 ..." /></label>
                  <label>Passord<input name="password" type="password" autocomplete="new-password" placeholder="Minst 6 tegn" required /></label>
                  <button class="btn-secondary" type="submit">Opprett arbeidsflate</button>
                </form>
                <p id="authMessage" class="muted" aria-live="polite"></p>
                <p id="registerMessage" class="muted" aria-live="polite"></p>
              </div>
            </article>
          </section>

          <section class="panel screenshot-panel">
            <div class="section-header">
              <div>
                <p class="eyebrow">Produktomvisning</p>
                <h2>Ryddig grensesnitt, laget for daglig fremdrift</h2>
              </div>
            </div>
            <div class="screen-grid">
              <article class="screen-card main-screen">
                <p class="screen-label">Pipeline-oversikt</p>
                <div class="screen-chrome">
                  <span></span><span></span><span></span>
                </div>
                <div class="screen-mock chart-mock">
                  <div class="mock-line long"></div>
                  <div class="mock-bars">
                    <span style="--h:70%"></span>
                    <span style="--h:42%"></span>
                    <span style="--h:86%"></span>
                    <span style="--h:58%"></span>
                  </div>
                </div>
              </article>
              <article class="screen-card">
                <p class="screen-label">Oppgaver og oppf√∏lging</p>
                <div class="screen-mock list-mock">
                  <div class="mock-line"></div>
                  <div class="mock-line short"></div>
                  <div class="mock-line"></div>
                  <div class="mock-line medium"></div>
                </div>
              </article>
              <article class="screen-card">
                <p class="screen-label">Innsikt i inntekter</p>
                <div class="screen-mock donut-mock">
                  <div class="donut"></div>
                  <div class="mock-line medium"></div>
                </div>
              </article>
            </div>
          </section>

          <section class="panel feature-panel">
            <h2>Alt teamet ditt trenger for produktiv drift</h2>
            <div class="feature-grid">
              <article class="feature-item">
                <h3>Samlet arbeidsflate</h3>
                <p class="muted">H√•ndter leads, aktiviteter og overleveringer i √©n delt arbeidsflate.</p>
              </article>
              <article class="feature-item">
                <h3>Rask automatisering</h3>
                <p class="muted">Fang foresp√∏rsler umiddelbart og send dem til riktig ambassad√∏rflyt.</p>
              </article>
              <article class="feature-item">
                <h3>Transparente tall</h3>
                <p class="muted">F√• tydelig oversikt over konvertering, pipeline-hastighet og utbetalingsstatus.</p>
              </article>
            </div>
          </section>

          <section id="be-om-pris" class="panel contact-section">
            <div class="contact-intro">
              <h2>F√• en tilpasset onboarding-plan</h2>
              <p>Del m√•lene dine, s√• setter vi opp den beste TustAi.no-l√∏sningen for teamet ditt.</p>
            </div>

            <form id="priceForm" class="contact-form">
              <input type="text" id="companyName" placeholder="Firmanavn" required />
              <input type="text" id="contactName" placeholder="Kontaktperson" required />
              <input type="email" id="email" placeholder="E-post" required />
              <input type="tel" id="phone" placeholder="Telefon" />

              <select id="filmType">
                <option value="">Hva skal foresp√∏rselen brukes til?</option>
                <option value="advertising">Reklame</option>
                <option value="training">Oppl√¶ring</option>
                <option value="explainer">Forklaring</option>
                <option value="other">Annet</option>
              </select>

              <textarea id="description" placeholder="Kort prosjektbeskrivelse..." rows="4"></textarea>

              <button type="submit" class="btn-primary contact-submit">
                Send foresp√∏rsel
              </button>

              <p id="formMessage" class="muted"></p>
            </form>
          </section>

          <section class="panel">
            <h2>Forutsigbare resultater med et fokusert system</h2>
            <p>
              Team som bruker TustAi.no h√•ndterer ofte <strong>40k‚Äì200k NOK prosjekter</strong>. Med bedre lead-sporing og
              raskere oppf√∏lging kan ambassad√∏rer skape en stabil m√•nedlig inntektsstr√∏m.
            </p>
            <div class="grid">
              <article class="kpi-card">
                <p class="muted">Avtalest√∏rrelse</p>
                <p class="kpi">40k‚Äì200k</p>
              </article>
              <article class="kpi-card">
                <p class="muted">Lukkede avtaler / m√•ned</p>
                <p class="kpi">4‚Äì10</p>
              </article>
              <article class="kpi-card">
                <p class="muted">Pipeline-verdi / m√•ned</p>
                <p class="kpi">160k‚Äì2M</p>
              </article>
            </div>
            <div class="earnings-chart" aria-label="Inntektspotensial">
              <div class="earnings-bar" style="--bar-height: 34%;"><span>4 salg</span></div>
              <div class="earnings-bar" style="--bar-height: 58%;"><span>6 salg</span></div>
              <div class="earnings-bar" style="--bar-height: 76%;"><span>8 salg</span></div>
              <div class="earnings-bar" style="--bar-height: 100%;"><span>10 salg</span></div>
            </div>
          </section>

          <section class="panel">
            <h2>Ofte stilte sp√∏rsm√•l</h2>
            <div class="faq-list">
              <details>
                <summary>Trenger jeg teknisk erfaring for √• bruke TustAi.no?</summary>
                <p>Nei. Plattformen er laget for √• v√¶re enkel, med tydelige dashbord og guidede flyter.</p>
              </details>
              <details>
                <summary>Kan jeg bruke den eksisterende ambassad√∏rprosessen min?</summary>
                <p>Ja. Vi tilpasser onboarding og utbetalingsregler til den n√•v√¶rende driftsmodellen din.</p>
              </details>
              <details>
                <summary>Hvilken innloggingsmetode b√∏r jeg velge f√∏rst?</summary>
                <p>Google er raskest, men du kan ogs√• opprette konto med e-post under onboarding.</p>
              </details>
              <details>
                <summary>Hva skjer etter innlogging?</summary>
                <p>Demo-innhold skjules, og du sendes direkte til ambassad√∏r-dashboardet.</p>
              </details>
            </div>
          </section>
        </main>
        <footer class="site-footer">¬© Levert av Setai.no</footer>
      </div>
    </div>

    <div id="demoAdminModal" class="modal-backdrop">
      <div class="modal">
        <h2>Demo-superadmin for investorpresentasjon</h2>
        <p class="muted">Logg inn med demo-bruker for √• se superadmin-oppsettet.</p>
        <form id="demoAdminLoginForm" class="form-grid">
          <label>Brukernavn<input name="username" autocomplete="username" required /></label>
          <label>Passord<input name="password" type="password" autocomplete="current-password" required /></label>
          <div class="row-actions">
            <button type="button" id="closeDemoAdminModal" class="btn-secondary">Lukk</button>
            <button type="submit" class="btn-primary">Logg inn som demo-superadmin</button>
          </div>
          <p id="demoAdminMessage" class="muted" aria-live="polite"></p>
        </form>
      </div>
    </div>
    <script type="module" src="app.js"></script>
    <script type="module">
      import { getApp, getApps, initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
      import { getFirestore, collection, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";

      const firebaseConfig = {
        apiKey: "AIzaSyA9ESuWhXXsevI47cY_A0YijhAawC7s0Zs",
        authDomain: "trustai-4dc55.firebaseapp.com",
        projectId: "trustai-4dc55",
        storageBucket: "trustai-4dc55.firebasestorage.app",
        messagingSenderId: "886529188680",
        appId: "1:886529188680:web:f8008930a08db98fba497d",
        measurementId: "G-CL1RB3P1CC"
      };

      const app = getApps().length ? getApp() : initializeApp(firebaseConfig);
      const db = getFirestore(app);

      // Cookie helper
      function getCookie(name) {
        const match = document.cookie.match(new RegExp('(^| )' + name + '=([^;]+)'));
        return match ? match[2] : null;
      }

      document.getElementById("priceForm").addEventListener("submit", async (e) => {
        e.preventDefault();

        const messageBox = document.getElementById("formMessage");
        messageBox.textContent = "Sender foresp√∏rsel...";

        try {
          const ambassadorId = getCookie("ambassadorRef");

          await addDoc(collection(db, "leads"), {
            companyName: document.getElementById("companyName").value,
            contactName: document.getElementById("contactName").value,
            email: document.getElementById("email").value,
            phone: document.getElementById("phone").value || null,
            filmType: document.getElementById("filmType").value || null,
            description: document.getElementById("description").value || null,

            ambassadorId: ambassadorId || null,
            status: "open",
            commissionPercent: 0,
            commissionAmount: 0,

            source: "website",
            landingPage: "be-om-pris",

            createdAt: serverTimestamp(),
            updatedAt: serverTimestamp()
          });

          messageBox.style.color = "green";
          messageBox.textContent = "Takk! Vi kontakter deg snart.";

          document.getElementById("priceForm").reset();

        } catch (error) {
          console.error(error);
          const localRequests = JSON.parse(localStorage.getItem("localContactRequests") || "[]");
          localRequests.unshift({
            companyName: document.getElementById("companyName").value,
            contactName: document.getElementById("contactName").value,
            email: document.getElementById("email").value,
            phone: document.getElementById("phone").value || null,
            filmType: document.getElementById("filmType").value || null,
            description: document.getElementById("description").value || null,
            createdAt: new Date().toISOString()
          });
          localStorage.setItem("localContactRequests", JSON.stringify(localRequests));
          messageBox.style.color = "#b26a00";
          messageBox.textContent = "Skjemaet er midlertidig utilgjengelig. Foresp√∏rselen er lagret lokalt ‚Äì pr√∏v igjen om litt.";
        }
      });
    </script>
  </body>
</html>
