<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ambassador dashboard</title>
    <link rel="stylesheet" href="styles.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-CL1RB3P1CC"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-CL1RB3P1CC');
  </script>
</head>
  <body>
    <div class="app-layout">
      <aside class="sidebar">
        <div class="brand">TustAi.no</div>
        <nav class="main-nav">
          <a href="index.html" data-i18n="navLogin">Login / Onboarding</a>
          <a href="ambassador.html" class="active auth-only" data-i18n="navAmbassador">Ambassador dashboard</a>
          <a href="admin.html" class="auth-only" data-i18n="navAdmin">Superadmin panel</a>
          <a href="profile.html" class="auth-only" data-i18n="navProfile">My profile</a>
          <a href="flow-system.html" class="auth-only" data-i18n="navFlow">System flow</a>
        </nav>
      </aside>
      <div class="content">
        <header class="topbar">
          <div class="topbar-left">
            <button id="navToggle" class="nav-toggle btn-secondary" aria-expanded="false">â˜°</button>
            <h1>Ambassador dashboard</h1>
          </div>
          <div class="topbar-actions">
            <button id="themeToggle" class="btn-icon btn-secondary" title="Toggle dark/light">ğŸŒ™</button>
            <button id="languageToggle" class="btn-icon btn-secondary" title="Switch language">ğŸ‡¬ğŸ‡§</button>
            <button id="authAction" class="btn-secondary">Log out</button>
            <img id="topbarAvatar" class="avatar" src="" alt="Profile" />
          </div>
        </header>

        <main class="page">
          <section class="panel">
            <h2>Welcome, <span id="welcomeName">Magnus</span>!</h2>
            <p class="muted welcome-copy">Track leads, follow earnings, and share your referral link from one clean dashboard.</p>
            <div class="grid">
              <article class="kpi-card"><p class="muted">Leads</p><p id="metricLeads" class="kpi">0</p></article>
              <article class="kpi-card"><p class="muted">Approved sales</p><p id="metricWon" class="kpi">0</p></article>
              <article class="kpi-card"><p class="muted">Commission earned</p><p id="metricCommission" class="kpi">0 kr</p></article>
              <article class="kpi-card"><p class="muted">Available for payout</p><p id="metricAvailable" class="kpi">0 kr</p></article>
            </div>
          </section>

          <section class="panel">
            <div class="section-header">
              <h2>My leads</h2>
              <div class="tab-row" id="ambassadorLeadTabs">
                <button class="tab-btn active" data-filter="all">All</button>
                <button class="tab-btn" data-filter="approved">Approved</button>
                <button class="tab-btn" data-filter="new">New</button>
              </div>
            </div>
            <div id="ambassadorEmptyState" class="empty-state" hidden>No leads yet.</div>
            <div class="table-wrap">
              <table class="table">
                <thead><tr><th>Company</th><th>Contact</th><th>Status</th><th>Value</th><th>Commission</th></tr></thead>
                <tbody id="leadList"></tbody>
              </table>
            </div>
          </section>


          

          <section class="panel">
            <div class="section-header">
              <h2>Share on social media</h2>
              <button id="copyLink" class="btn-primary">Copy link</button>
            </div>
            <p class="muted">Choose a channel, write a short message, and generate a share link automatically.</p>
            <div class="social-icons">
              <button class="social-icon" data-platform="LinkedIn">in</button>
              <button class="social-icon" data-platform="Facebook">f</button>
              <button class="social-icon" data-platform="X">ğ•</button>
            </div>
            <p id="shareMessage" class="muted"></p>
          </section>

          <section class="panel">
            <h2>Resultatgrafer</h2>
            <div class="chart-grid">
              <article class="chart-card"><h3>Income</h3><div class="chart-wrap"><canvas id="incomeChart"></canvas></div></article>
              <article class="chart-card"><h3>Offers sent</h3><div class="chart-wrap"><canvas id="offerChart"></canvas></div></article>
              <article class="chart-card"><h3>Channel mix</h3><div class="chart-wrap"><canvas id="channelChart"></canvas></div></article>
              <article class="chart-card"><h3>Payout trend</h3><div class="chart-wrap"><canvas id="payoutChart"></canvas></div></article>
              <article class="chart-card"><h3>Lead stages</h3><div class="chart-wrap"><canvas id="leadStageChart"></canvas></div></article>
            </div>
          </section>
        </main>
        <footer class="site-footer">Â© Delivered by Setai.no</footer>
      </div>
    </div>

    <div id="shareModalBackdrop" class="modal-backdrop">
      <div class="modal">
        <h2>Share post</h2>
        <p id="sharePlatformLabel" class="muted">Platform</p>
        <label>Message
          <textarea id="shareText" rows="4" placeholder="Short message to include in the share link"></textarea>
        </label>
        <div class="row-actions">
          <button id="closeShareModal" class="btn-secondary">Cancel</button>
          <button id="saveShareModal" class="btn-primary">Create share link</button>
        </div>
      </div>
    </div>

    <script type="module" src="app.js"></script>
  </body>
</html>
