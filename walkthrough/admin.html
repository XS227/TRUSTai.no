<!doctype html>
<html lang="nb">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Superadmin panel (Norsk)</title>
    <link rel="stylesheet" href="styles.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-CL1RB3P1CC"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-CL1RB3P1CC');
  </script>
</head>
  <body>
    <div class="app-layout admin-app-layout">
      <aside class="sidebar admin-sidebar">
        <div class="brand">TustAi.no</div>
        <nav class="main-nav admin-nav">
          <a href="#dashboard" class="active">Dashboard</a>
          <a href="#leads">Leads</a>
          <a href="#ambassadors">Ambassad√∏rer</a>
          <a href="#income">Inntekter</a>
          <a href="#payouts">Utbetalinger</a>
          <a href="#content">Delings tekster</a>
          <a href="#tickets">Tickets / FAQ</a>
          <a href="#landing">Landingsside</a>
          <a href="#settings">Innstillinger</a>
          <a href="index.html" id="sidebarLogout">Logg ut</a>
        </nav>
      </aside>
      <div class="content">
        <header class="topbar">
          <div class="topbar-left">
            <button id="navToggle" class="nav-toggle btn-secondary" aria-expanded="false">‚ò∞</button>
            <h1>Super Admin</h1>
          </div>
          <div class="topbar-actions superadmin-topbar-actions">
            <button id="openSearchModal" class="btn-icon btn-secondary" title="S√∏k">üîé</button>
            <details class="user-dropdown notification-dropdown">
              <summary id="notificationButton" class="btn-icon btn-secondary" title="Varsler">üîî</summary>
              <div class="user-dropdown-menu notification-menu">
                <p><strong>Varsler</strong></p>
                <ul class="simple-list">
                  <li>Nye leads: <span id="notifNewLeads">0</span></li>
                  <li>Nye ambassad√∏r-s√∏knader: <span id="notifAmbassadorApplications">0</span></li>
                  <li>Fakturaer til godkjenning: <span id="notifInvoices">0</span></li>
                  <li>Nye tickets: <span id="notifTickets">0</span></li>
                </ul>
              </div>
            </details>
            <button id="themeToggle" class="btn-icon btn-secondary" title="Toggle dark/light">üåô</button>
            <button id="languageToggle" class="btn-icon btn-secondary" title="Switch language">üá¨üáß</button>
            <details class="user-dropdown">
              <summary id="adminUserMenu">Super Admin ‚åÑ</summary>
              <div class="user-dropdown-menu">
                <button id="authAction" class="btn-secondary">Logg ut</button>
              </div>
            </details>
            <img id="topbarAvatar" class="avatar" src="" alt="Profile" />
          </div>
        </header>

        <main class="page">
          <section class="panel" id="dashboard">
            <h2>Dashboard</h2>
            <div class="grid" id="adminKpiCards">
              <article class="kpi-card kpi-filter-card" data-filter="all"><p class="muted">Totale leads</p><p class="kpi" id="kpiTotalLeads">0</p></article>
              <article class="kpi-card kpi-filter-card" data-filter="meeting_booked"><p class="muted">M√∏ter booket</p><p class="kpi" id="kpiMeeting">0</p></article>
              <article class="kpi-card kpi-filter-card" data-filter="offer_sent"><p class="muted">Tilbud sendt</p><p class="kpi" id="kpiOfferSent">0</p></article>
              <article class="kpi-card"><p class="muted">Godkjent omsetning</p><p class="kpi" id="kpiRevenue">kr 0</p></article>
              <article class="kpi-card"><p class="muted">Provisjon utest√•ende</p><p class="kpi" id="kpiOutstanding">kr 0</p></article>
              <article class="kpi-card"><p class="muted">Aktive ambassad√∏rer</p><p class="kpi" id="kpiActiveAmbassadors">0</p></article>
            </div>
            <div class="pipeline-grid" id="pipelineCards"></div>
            <div class="admin-lists triple-list">
              <section>
                <h3>Nye leads</h3>
                <ul id="recentLeadsList" class="simple-list"></ul>
              </section>
              <section>
                <h3>Nye ambassad√∏r-s√∏knader</h3>
                <ul id="ambassadorApplicationsList" class="simple-list"></ul>
              </section>
              <section>
                <h3>Aktivitet & varsler</h3>
                <ul id="adminActivityList" class="simple-list"></ul>
              </section>
            </div>
          </section>

          <section class="panel" id="leads">
            <div class="section-header">
              <h2>Leads</h2>
              <div class="filters">
                <select id="leadStatusFilter"><option value="all">Status</option></select>
                <select id="leadAmbassadorFilter"><option value="all">Ambassad√∏r</option></select>
                <input id="leadDateFrom" type="datetime-local" />
                <input id="leadDateTo" type="datetime-local" />
              </div>
            </div>
            <div id="leadEmptyState" class="empty-state" hidden>Ingen leads matcher filteret.</div>
            <div class="admin-detail-layout">
              <div class="table-wrap">
                <table class="table">
                  <thead><tr><th>Firma</th><th>Ambassad√∏r</th><th>Status</th><th>Verdi</th><th>Provisjon</th><th>Payment status</th><th>Handling</th></tr></thead>
                  <tbody id="adminLeadBody"></tbody>
                </table>
              </div>
              <aside class="lead-detail" id="leadDetailPanel">
                <h3>Lead-detalj</h3>
                <p class="muted">Klikk p√• et lead for √• se detaljer.</p>
              </aside>
            </div>
          </section>

          <section class="panel" id="ambassadors">
            <h2>Ambassad√∏rer</h2>
            <form id="addAmbassadorForm" class="form-grid" style="margin-bottom: 1rem;">
              <label>Navn<input name="name" required /></label>
              <label>Epost<input name="email" type="email" required /></label>
              <label>Provisjon %<input name="commissionPercent" type="number" min="1" max="100" value="10" required /></label>
              <div class="row-actions">
                <button class="btn-primary" type="submit">Legg til ambassad√∏r</button>
              </div>
              <p id="addAmbassadorMessage" class="muted" aria-live="polite"></p>
            </form>
            <div class="filters"><select id="ambassadorStatusFilter"><option value="all">Alle statuser</option></select></div>
            <div class="table-wrap">
              <table class="table">
                <thead><tr><th>Navn</th><th>Status</th><th>Leads</th><th>Omsetning</th><th>Provisjon</th><th>Opptjent</th><th>Unpaid</th><th>Action</th></tr></thead>
                <tbody id="adminAmbassadorBody"></tbody>
              </table>
            </div>
          </section>

          <section class="panel" id="income">
            <h2>Inntekter</h2>
            <div class="filters">
              <select id="incomeAmbassadorFilter"><option value="all">Ambassad√∏r</option></select>
              <select id="incomeStatusFilter"><option value="all">Status</option></select>
            </div>
            <div class="table-wrap">
              <table class="table">
                <thead><tr><th>Kunde</th><th>Ambassad√∏r</th><th>Omsetning</th><th>Provisjon</th><th>Status</th><th>Dato</th></tr></thead>
                <tbody id="adminIncomeBody"></tbody>
              </table>
            </div>
          </section>

          <section class="panel" id="payouts">
            <h2>Utbetalinger</h2>
            <div class="table-wrap">
              <table class="table">
                <thead><tr><th>Ambassad√∏r</th><th>Bel√∏p</th><th>Faktura</th><th>Faktura dato</th><th>Handling</th><th>Dato handling</th><th>Status</th></tr></thead>
                <tbody id="adminPayoutBody"></tbody>
              </table>
            </div>
          </section>

          <section class="panel" id="content">
            <div class="section-header"><h2>Delingstekster</h2><button class="btn-primary" id="newShareTextBtn">Lag ny tekst</button></div>
            <div class="table-wrap">
              <table class="table">
                <thead><tr><th>Kilde</th><th>Tittel</th><th>Se tekst</th><th>Rediger tekst</th><th>Trafikk</th><th>Konverteringer</th></tr></thead>
                <tbody id="shareTextBody"></tbody>
              </table>
            </div>
          </section>

          <section class="panel" id="tickets">
            <h2>Tickets</h2>
            <div class="filters"><select id="ticketStatusFilter"><option value="all">Alle</option></select></div>
            <div class="admin-detail-layout">
              <div class="table-wrap">
                <table class="table">
                  <thead><tr><th>ID</th><th>Ambassad√∏r</th><th>Emne</th><th>Status</th><th>Handling</th></tr></thead>
                  <tbody id="ticketBody"></tbody>
                </table>
              </div>
              <aside class="lead-detail" id="ticketDetailPanel"><h3>Ticket-detalj</h3><p class="muted">Velg en ticket.</p></aside>
            </div>
            <h3>FAQ</h3>
            <div class="row-actions"><button id="addFaqBtn" class="btn-secondary">Legg til FAQ</button></div>
            <div class="table-wrap">
              <table class="table">
                <thead><tr><th>Kategori</th><th>Sp√∏rsm√•l</th><th>Svar</th><th>Handling</th></tr></thead>
                <tbody id="faqBody"></tbody>
              </table>
            </div>
          </section>

          <section class="panel" id="landing">
            <h2>Landingsside / Rekruttering</h2>
            <p class="muted">Fast mal klar for utfylling med felter for headline, verdiforslag, provisjonsmodell, vilk√•r og registreringsskjema.</p>
            <div class="form-grid two-columns">
              <label>Programnavn<input id="landingProgramName" value="TrustAi ambassad√∏rprogram" /></label>
              <label>CTA tekst<input id="landingCta" value="S√∏k som ambassad√∏r" /></label>
              <label>Hovedspr√•k<input id="landingLanguage" value="Norsk" readonly /></label>
              <label>Hero tittel<textarea id="landingHero" rows="2">Bli med i v√•rt ambassad√∏rprogram</textarea></label>
              <label>Beskrivelse<textarea id="landingDescription" rows="2">Del nettverket ditt og tjen provisjon per godkjent avtale.</textarea></label>
            </div>
          </section>

          <section class="panel" id="settings">
            <h2>Innstillinger</h2>
            <div class="form-grid two-columns">
              <label>Firmanavn<input value="TrustAi AS" /></label>
              <label>Org.nr<input placeholder="999 999 999" /></label>
              <label>Kontaktperson<input value="Tor Martin Olsen" /></label>
              <label>Epost<input value="post@trustai.no" /></label>
              <label>Telefon<input value="+47 99 99 99 99" /></label>
              <label>Adresse<input value="Storgata 1" /></label>
            </div>
            <h3>Brukere & roller</h3>
            <div class="table-wrap"><table class="table"><thead><tr><th>Bruker</th><th>Rolle</th><th>Endre</th></tr></thead><tbody id="adminUsersBody"></tbody></table></div>
            <h3>Juridisk</h3>
            <p class="muted">Vilk√•r, personvern, samtykker og ambassad√∏ravtale kan redigeres og publiseres per kunde.</p>
          </section>
        </main>
        <footer class="site-footer">¬© Delivered by Setai.no</footer>
      </div>
    </div>


    <div id="adminSearchModal" class="search-modal" hidden>
      <div class="search-modal-content">
        <div class="search-modal-header">
          <input id="globalSearch" class="global-search" placeholder="S√∏k leads, ambassad√∏rer, tickets og FAQ" />
          <button id="closeSearchModal" class="btn-secondary" type="button">Lukk</button>
        </div>
        <p class="muted">Live-resultater vises direkte i tabellene.</p>
      </div>
    </div>

    <script type="module" src="app.js"></script>
  </body>
</html>
